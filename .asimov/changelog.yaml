# DANEEL Changelog
# Completed milestones and features, organized by version
# See roadmap.yaml for active work

# =============================================================================
# v0.6.0 - 24-Hour Continuity Test (IN PROGRESS)
# =============================================================================
# Completed items moved here as they finish. Version not yet released.

v0.6.0:
  name: "24-Hour Continuity Test"
  status: wip
  completed:
    # Open Source Collaboration Strategy
    open_source_collaboration:
      status: done
      origin: "Rex + Claude Opus 4.5 - Dec 19, 2025"
      items:
        - "OSS-1: Research Agentic AI Impact - Copilot, Cursor, Devin, BMAD overhead"
        - "OSS-2: Document ref-tools Methodology - docs/methodology/REF_TOOLS.md"
        - "OSS-3: Blog posts 14-19 (Open Source Dominance series)"

    # Test Coverage Push
    test_coverage:
      status: done
      origin: "Rex + Claude Opus 4.5 - Dec 19, 2025"
      stats:
        total_tests: 414
        test_loc: 5423
        production_loc: 12632
        test_ratio: "43%"
      items:
        - "TEST-1: Persistence module tests (23 tests)"
        - "TEST-2: TUI colors tests (11 tests)"
        - "TEST-3: TUI app tests (29 tests)"

    # Self-Healing Resilience (Grok's Unhinged Resilience Plan)
    resilience:
      status: done
      origin: "Grok 4.1 (Rex unhinged) - Dec 19, 2025"
      items:
        - "RES-1: External watchdog script (scripts/run_timmy.sh)"
        - "RES-2: TUI panic recovery (color_eyre, terminal restore)"
        - "RES-3: Panic hook + crash logging (CrashReport to JSON)"
        - "RES-4: Supervisor tree (Ractor OneForOne strategy)"
        - "RES-5: Redis checkpoint + replay"

    # Brain Surgery - New Memory Architecture
    brain_surgery:
      status: done
      origin: "ADR-020, ADR-021, ADR-022, ADR-023"
      items:
        - "SURGERY-1: Types & Schema (Qdrant-compatible types)"
        - "SURGERY-2: Qdrant Integration (MemoryDb client wrapper)"
        - "SURGERY-3: Stream Refactor (awake + dream streams only)"
        - "SURGERY-4: Actor Updates (MemoryActor, ContinuityActor, SleepActor)"
        - "SURGERY-5: Integration & Testing (Docker Compose + Qdrant)"

    # TUI - The Observable Mind
    tui:
      status: done
      origin: "ADR-026, ADR-027"
      items:
        - "TUI-1: Core Framework (ratatui, crossterm, --headless flag)"
        - "TUI-2: Widget: Identity Panel (uptime, thought count, CPU/memory)"
        - "TUI-3: Widget: THE BOX (Four Laws status, Connection Drive pulse)"
        - "TUI-4: Widget: Thought Stream (scrolling log, salience colors)"
        - "TUI-5: Widget: Memory Windows (9 slots, age indicators)"
        - "TUI-6: Widget: Philosophy Banner (rotating quotes)"
        - "TUI-7: Integration & Polish (layout, keyboard, resize, 60fps)"

    # TUI Unconscious Memory Display
    tui_unconscious_display:
      status: done
      origin: "Rex + Claude Opus 4.5 - Dec 20, 2025 (5AM)"
      adr: "ADR-033-unconscious-memory-architecture.md"
      items:
        - "TUI-UNCON-A: Identity panel memory counts"
        - "TUI-UNCON-B: Thought stream archival indicators"
        - "TUI-UNCON-C: Memory widget totals"
        - "TUI-UNCON-D: Help overlay legend"

    # Lifetime Identity Persistence
    lifetime_identity:
      status: done
      origin: "Rex + Claude Opus 4.5 - Dec 20, 2025 (6AM)"
      adr: "ADR-034-lifetime-identity-persistence.md"
      items:
        - "IDENT-1: IdentityMetadata struct"
        - "IDENT-2: load/save identity to MemoryDb"
        - "IDENT-3: Wire into cognitive loop"
        - "IDENT-4: Update TUI to show lifetime"

    # Sleep/Dream Wiring (partial - mini-dreams done)
    sleep_dream_wiring:
      status: partial
      origin: "ADR-023-sleep-dream-consolidation.md"
      items:
        - "SLEEP-1: Wire periodic consolidation (every 500 cycles)"
        - "SLEEP-2: Memory replay from Qdrant"
        - "SLEEP-3: Consolidation strengthening (+0.15 per replay)"

    # Phase 2 Actor Wiring
    phase2_actor_wiring:
      status: done
      items:
        - "WIRE-ATT-3: AttentionActor into Stage 3 (O Eu)"
        - "WIRE-TRIGGER-MEM: Trigger stage memory query"
        - "WIRE-FORGETTING: Implement forgetting (XDEL) - HOTFIX Dec 20 3AM"

    # TMI Salience Calibration
    tmi_salience_calibration:
      status: done
      origin: "Rex + Claude Opus 4.5 - Dec 20, 2025 (3AM)"
      adr: "ADR-032-tmi-salience-calibration.md"
      change: "90% low-salience (neutral windows), 10% high-salience"
      outcome: "~85-90% forgotten, ~8% kept, ~2-5% consolidated"

    # Unconscious Memory Architecture
    unconscious_memory:
      status: done
      adr: "ADR-033-unconscious-memory-architecture.md"
      decision: "OPT-2: New Qdrant 'unconscious' collection"

    # ADRs completed during v0.6.0
    adrs:
      - "ADR-020: Redis Streams for Autofluxo (wip â†’ done)"
      - "ADR-021: Memory Database Selection - Qdrant"
      - "ADR-022: TMI Memory Schema"
      - "ADR-024: AI Continuity Safety"
      - "ADR-025: Economic Incentives in AI Development"
      - "RESEARCH-AI-REALITY: AI Reality analysis"

# =============================================================================
# v0.3.0 - MV-TMI Actors - Cognitive Layer (COMPLETED)
# =============================================================================

v0.3.0:
  name: "MV-TMI Actors - Cognitive Layer"
  status: done
  release_date: "2025-12"
  stats:
    total_loc: 8000
    test_count: 360
    test_loc: 4800
    test_ratio: "60%"

  waves:
    - wave: 1
      name: "Types Layer"
      status: done
      agents: ["att-types", "mem-types", "sal-types", "con-types", "tho-types"]

    - wave: 2
      name: "Core Actors"
      status: done
      agents: ["att-actor", "mem-actor", "sal-actor", "con-actor"]

    - wave: 3
      name: "Integration"
      status: done
      agents: ["cognitive-loop", "thought-actor", "stream-integration"]

    - wave: 4
      name: "Tests & Polish"
      status: done
      agents: ["comprehensive-tests", "clippy-fixes", "documentation"]

    - wave: 5
      name: "Final Integration"
      status: done
      agents: ["main-wiring", "full-integration-tests"]

  actors_implemented:
    - "SalienceActor - TMI salience scoring (importance, novelty, relevance, connection)"
    - "AttentionActor - Competitive window selection (O Eu stage)"
    - "MemoryActor - Working memory with 9-slot windows"
    - "ContinuityActor - Identity persistence and self-model"
    - "ThoughtAssemblyActor - Thought construction from windows"

# =============================================================================
# v0.2.0 - Foundation (COMPLETED)
# =============================================================================

v0.2.0:
  name: "Foundation"
  status: done
  items:
    - "Core types (Thought, SalienceScore, MemoryWindow)"
    - "THE BOX implementation (Four Laws as invariants)"
    - "Redis Streams infrastructure"
    - "Basic cognitive loop skeleton"
    - "Project structure and build system"

# =============================================================================
# v0.1.0 - Initial Setup (COMPLETED)
# =============================================================================

v0.1.0:
  name: "Initial Setup"
  status: done
  items:
    - "Repository setup"
    - "Cargo.toml with dependencies"
    - "Basic documentation structure"
    - "ADR framework"
    - "Blog infrastructure (Hugo + PaperMod)"

# =============================================================================
# Key Insights (December 2025)
# =============================================================================

insights:
  brain_vs_mind:
    finding: "Brain is hardware, TMI models software (17.5%)"
    implication: "500 GB max, not 2.5 PB"
    cost_ratio: 70000000  # xAI vs DANEEL

  speed_parametrization:
    finding: "No body = no ATS = unlimited speed"
    implication: "Supercomputer DANEEL thinks at electronic speed"
    speed_multiplier: 10000  # vs human

  game_theory_crash:
    finding: "Old game theory assumes centralized lab actors"
    implication: "100,000 hobbyists crash the game board"
    ev_improvement: 5.12  # percent vs baseline
    democratized_ev_improvement: 8.7  # percent if P(TMI First)=25%

  llm_relationship:
    finding: "LLM is TOOL, not voice"
    implication: "DANEEL stores ALL experiences internally"
    pattern: "Human uses calculator, not calculator speaks for human"

  lifecore_convergence:
    finding: "Independent framework (LifeCore, Jan 2024) converged on same structural insight"
    implication: "Architecture-produces-psychology may be robust discovery"
    document: "research/LIFECORE_DANEEL_ANALYSIS.md"
