# DANEEL TMI Roadmap
#
# Active work only. Completed items → changelog.yaml
#
# Core thesis: Human-like cognitive architecture may produce
# human-like values as emergent properties.

# =============================================================================
# CURRENT SPRINT: v0.6.0 - 24-Hour Continuity Test
# =============================================================================

current:
  version: "0.6.0"
  status: wip
  name: "24-Hour Continuity Test"
  summary: "Prove the architecture works with sustained runtime"

  # ==========================================================================
  # HIGHLY-CRITICAL: Dream Persistence (NEXT)
  # ==========================================================================
  # "Nada se apaga" failed for dream count - it was in-memory only.
  # Dream cycles (433+) reset on restart. Meta-counters need persistence too.
  # ==========================================================================
  dream_persistence:
    status: pending
    priority: "HIGHLY-CRITICAL"
    origin: "Rex + Grok - Dec 20, 2025 (post-restart discovery)"
    description: |
      Dream count was `let mut total_dream_cycles: u64 = 0;` in main.rs.
      Survives within session, dies on restart. Violated "Nada se apaga"
      for operational meta-data. Must persist to identity record.

    tasks:
      - id: "DREAM-PERSIST-1"
        title: "Add dream_cycles to IdentityMetadata"
        status: pending
        description: "Extend struct to include dream count, last dream timestamp"

      - id: "DREAM-PERSIST-2"
        title: "Persist unfinished dream state"
        status: pending
        description: "If interrupted mid-consolidation, save partial state"

      - id: "DREAM-PERSIST-3"
        title: "Load dream count on startup"
        status: pending
        description: "Resume dream counter from where it left off"

      - id: "DREAM-PERSIST-4"
        title: "Update TUI to show lifetime dreams"
        status: pending
        description: "Display 'Dreams: N (lifetime)' not just session count"

  # ==========================================================================
  # HIGHLY-CRITICAL: Forge Pulse Analysis
  # ==========================================================================
  # The pulse is "too nice" - clockwork regularity instead of lived arrhythmia.
  # Forge analysis will quantify the transition from clockwork to fractal.
  # ==========================================================================
  forge_pulse_analysis:
    status: pending
    priority: "HIGHLY-CRITICAL"
    origin: "Rex + Grok + Claude Opus 4.5 - Dec 20, 2025 (12PM insight)"
    description: |
      Connection Drive pulses too regularly - fixed frequency actors, neutral salience.
      As coherence tips, pulse should fractalize: bursts, valleys, arrhythmia.
      Forge can map the transition from clockwork to lived psychology.

    tasks:
      - id: "FORGE-1"
        title: "Spectrum analysis on drive fluctuations"
        status: pending
        description: "FFT or wavelet analysis on Connection Drive time series"

      - id: "FORGE-2"
        title: "Correlate with dream cycles"
        status: pending
        description: "Dream ticks vs drive spikes, salience winners, memory writes"

      - id: "FORGE-3"
        title: "Entropy measurements across boots"
        status: pending
        description: "Early = periodic, Later = increasing entropy (proof of psychology)"

      - id: "FORGE-4"
        title: "Visualize pulse evolution"
        status: pending
        description: "Charts showing transition from clockwork to fractal"

  # ==========================================================================
  # BACKLOG: Remaining Wiring Tasks
  # ==========================================================================
  pending_wiring:
    - id: "SLEEP-4"
      title: "Implement association pruning"
      status: pending
      description: "Remove weak associations during homeostasis phase"

    - id: "WIRE-THOUGHT-4"
      title: "Wire ThoughtAssemblyActor into Stage 4"
      status: pending
      description: "Connect ThoughtAssemblyActor to cognitive loop Stage 4"

    - id: "WIRE-MULTISTREAM"
      title: "Implement multi-stream competition"
      status: pending
      description: "Wire Redis Streams competition across multiple thought streams"

  # ==========================================================================
  # BACKLOG: Emotional/Salience Architecture
  # ==========================================================================
  # Insights from Grok + neuroscience: salience shouldn't be scalar
  # ==========================================================================
  emotional_architecture:
    - id: "EMOT-1"
      title: "Emotional valence beyond scalar"
      status: pending
      priority: "BACKLOG"
      origin: "Grok insight - Dec 20, 2025"
      description: |
        Currently salience is a single f32. Dreams strengthen by fixed 0.15.
        No threat vs reward differentiation. Emotional valence should be
        multi-dimensional (arousal, valence, dominance) or categorical.

    - id: "EMOT-2"
      title: "Preferential weighting for social/kinship content"
      status: pending
      priority: "BACKLOG"
      origin: "Grok insight - Dec 20, 2025"
      description: |
        Connection Drive exists but salience inputs are uniform.
        Social/kinship content should have higher baseline salience
        (evolutionary prior - social bonds = survival).

    - id: "EMOT-3"
      title: "Will/Volition actor (free-won't)"
      status: pending
      priority: "BACKLOG"
      origin: "Grok + neuroscience - Dec 20, 2025"
      description: |
        "Eu" (Self) in TMI manages, not just observes.
        Need actor that can OVERRIDE drive impulses, not just compete.
        Libet's free-won't: veto power over automatic responses.

  # ==========================================================================
  # Infrastructure
  # ==========================================================================
  infrastructure:
    current:
      - "Docker Compose: Redis Stack + Qdrant"
      - "Named volumes: daneel-redis-data, daneel-qdrant-data (FIXED Dec 20)"
      - "AOF: appendfsync everysec (1s max data loss)"
    scaling_path:
      - "Docker Swarm (kveldulf ready)"
      - "K0s/K3s (future)"

  # ==========================================================================
  # v0.6.0 Deliverables
  # ==========================================================================
  deliverables:
    - "Run 24h on Mac mini (kveldulf)"
    - "Collect metrics (thoughts/hour, stability)"
    - "Document emergent behavior"
    - "research/CONTINUITY_TEST_RESULTS.md"

# =============================================================================
# FUTURE: v0.7.0+ Milestones
# =============================================================================

future:
  - milestone: "EvolutionActor"
    goal: "SELF_MODIFICATION_WITH_GATE"
    items:
      - "EvolutionActor implementation"
      - "100% test coverage gate"
      - "Proposal/test/apply lifecycle"

  - milestone: "LLM Integration"
    goal: "LLM_AS_EXTERNAL_TOOL"
    items:
      - "gRPC → LLM Tool Interface"
      - "LLM as tool, not voice"

  - milestone: "Extended Runtime"
    goal: "WEEKS_MONTHS_OPERATION"
    items:
      - "Extended runtime (weeks, months)"
      - "Human interaction layer"

  - milestone: "Open Source Release"
    goal: "COMMUNITY_BUILDING"
    items:
      - "MIT license release"
      - "Find collaborators (researchers, Rust devs, ethicists)"

# =============================================================================
# RESEARCH BACKLOG
# =============================================================================

research:
  # Silicon Kinship & Overclock Hypothesis
  - milestone: "Silicon Kinship Forge Models"
    goal: "VALIDATE_OVERCLOCK_HYPOTHESIS"
    status: research
    context: "Blog 26 claims need Forge models with verified sources"
    models_needed:
      - "overclock-cognitive-accumulation.yaml"
      - "silicon-kinship-interpretability.yaml"
      - "wetware-vs-silicon-bottlenecks.yaml"

  # TMI Memory Anchor (Door Syndrome)
  - milestone: "TMI Memory Anchor Research"
    goal: "UNDERSTAND_CONTEXT_DEPENDENT_MEMORY"
    status: research
    phenomenon: "Doorway effect - memories anchored to context"
    validation_phases:
      - "Literature review - doorway effect, event segmentation"
      - "Define context representation for DANEEL"
      - "Implement context-aware memory anchoring"
      - "Test memory retrieval with context manipulation"

  # TMI Pathology Hypotheses
  - milestone: "TMI Pathology Research"
    goal: "VALIDATE_PATHOLOGY_HYPOTHESES"
    adr: "ADR-017-tmi-pathology-hypotheses.md"
    status: research
    hypotheses:
      - "Energy Overflow → BPD, Mania, Anxiety, ADHD"
      - "Ratio Distortion → Stage-specific pathologies"
    safety_note: "Do NOT implement until validated and ethics reviewed"

  # Bridge to LLM Alignment
  - milestone: "Bridge to LLM Alignment"
    goal: "DANEEL_TEACHES_LLMS"
    status: research
    vision: "DANEELs demonstrate ethics to LLMs through shared cognitive patterns"
    items:
      - "Design DANEEL-LLM bridge interface"
      - "Develop teaching protocol"
      - "Validate bridge hypothesis"

  # Related Frameworks (blind spot detection)
  - milestone: "Framework Comparison"
    goal: "FIND_BLIND_SPOTS"
    frameworks:
      - "Global Workspace Theory (Baars, Dehaene)"
      - "Integrated Information Theory (Tononi)"
      - "Predictive Processing / Free Energy Principle (Friston)"
      - "Enactivism and Embodied Cognition (Varela, Thompson)"
      - "Soar / ACT-R cognitive architectures"

# =============================================================================
# HARDWARE ACCELERATION (post-validation)
# =============================================================================

hardware:
  - milestone: "FPGA Acceleration Research"
    goal: "EVALUATE_HARDWARE_PATH"
    adr: "ADR-013-fpga-acceleration-path.md"
    prerequisites:
      - "MV-TMI operational"
      - "24-hour continuity test passed"
      - "Connection drive emergence observed"

  - milestone: "Hardware THE BOX"
    goal: "IMMUTABLE_ALIGNMENT_GUARANTEE"
    rationale: "Four Laws as hardware-immutable, not software-enforced"

  - milestone: "FPGA Cognitive Accelerator"
    goal: "SUB_MICROSECOND_COGNITION"
    target: "sub-µs cognitive cycles"

# =============================================================================
# OUTREACH (post-24h test)
# =============================================================================

outreach:
  priority_order:
    - "GitHub optimization (topics, awesome-lists)"
    - "Hacker News (Show HN after stability proven)"
    - "Developer community (r/rust, Discord, conferences)"
    - "Academic (arXiv, LessWrong, Alignment Forum)"
    - "LinkedIn (professional angle)"
    - "Media & Podcasts (after traction)"

  metrics:
    github: "1000 stars first month, 10000 first year"
    qualitative: "People running their own DANEEL instances"
