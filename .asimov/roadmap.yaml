# DANEEL TMI Roadmap
#
# WHAT to build - milestones only
#
# Core thesis: Human-like cognitive architecture may produce
# human-like values as emergent properties.
#
# ORIGIN: This idea has been developing since ~2005. See ORIGIN.md

# =============================================================================
# CURRENT SPRINT: v0.3.0 - v0.5.0 (Agent-Based Build)
# =============================================================================
# CONTEXT MANAGEMENT RULES (learned from v0.2.0):
# - ONE FILE per agent (~200-500 lines output max)
# - Agents run in WAVES (dependency order)
# - Each agent gets MINIMAL context (only what it needs)
# - Total: 19 files across 5 waves
# =============================================================================

current:
  version: "0.3.0"
  status: complete
  summary: "MV-TMI Actors - Cognitive Layer"
  goal: "BUILD_COGNITIVE_ACTORS"
  depends_on: "0.2.0"

  # Agent execution waves (run agents within each wave in parallel)
  # WORKFLOW PER WAVE:
  #   1. Run agents in parallel
  #   2. cargo fmt && cargo clippy -D warnings && cargo test
  #   3. git commit -m "Wave N: <name>"
  #   4. git push
  #   5. Update wave status: wip → done
  waves:
    # Wave 1: All types.rs files (can run in parallel)
    - wave: 1
      name: "Types Layer"
      status: done
      parallel: true
      post_wave:
        - "cargo fmt"
        - "cargo clippy -D warnings"
        - "cargo test"
        - "git add -A && git commit -m 'Wave 1: Types Layer'"
        - "git push"
      agents:
        - id: "att-types"
          output: "src/actors/attention/types.rs"
          lines_target: 300
          context_files:
            - "src/core/types.rs"
            - "src/actors/salience/types.rs"  # pattern
          tmi_concept: "FocusState, AttentionMap, AttentionError"

        - id: "thought-types"
          output: "src/actors/thought/types.rs"
          lines_target: 300
          context_files:
            - "src/core/types.rs"
            - "src/actors/memory/types.rs"  # pattern
          tmi_concept: "AssemblyRequest, AssemblyStrategy, AssemblyError"

        - id: "cont-types"
          output: "src/actors/continuity/types.rs"
          lines_target: 300
          context_files:
            - "src/core/types.rs"
          tmi_concept: "Identity, Experience, Timeline, ContinuityError"

        - id: "streams-types"
          output: "src/streams/types.rs"
          lines_target: 250
          context_files:
            - "src/core/types.rs"
            - "docs/adr/ADR-007-redis-streams-thought-competition.md"
          tmi_concept: "StreamEntry, StreamConfig, ThoughtCandidate"

    # Wave 2: All mod.rs actor implementations (depends on Wave 1)
    - wave: 2
      name: "Actor Layer"
      status: done
      parallel: true
      depends_on: [1]
      post_wave:
        - "cargo fmt"
        - "cargo clippy -D warnings"
        - "cargo test"
        - "git add -A && git commit -m 'Wave 2: Actor Layer'"
        - "git push"
      agents:
        - id: "att-mod"
          output: "src/actors/attention/mod.rs"
          lines_target: 350
          context_files:
            - "src/actors/attention/types.rs"  # from Wave 1
            - "src/actors/salience/mod.rs"  # pattern
            - "src/core/types.rs"
          tmi_concept: "O Eu (The 'I') - competitive window selection"

        - id: "thought-mod"
          output: "src/actors/thought/mod.rs"
          lines_target: 350
          context_files:
            - "src/actors/thought/types.rs"  # from Wave 1
            - "src/actors/memory/mod.rs"  # pattern
            - "src/core/types.rs"
          tmi_concept: "Construção do Pensamento - thought assembly"

        - id: "cont-mod"
          output: "src/actors/continuity/mod.rs"
          lines_target: 300
          context_files:
            - "src/actors/continuity/types.rs"  # from Wave 1
            - "src/actors/memory/mod.rs"  # pattern
          tmi_concept: "Âncora da Memória + Identity persistence"

        - id: "loop-mod"
          output: "src/core/cognitive_loop.rs"
          lines_target: 300
          context_files:
            - "src/core/types.rs"
            - "src/config/mod.rs"
            - "docs/ARCHITECTURE_SPEC.md"
          tmi_concept: "50ms cognitive cycle, attention competition"

    # Wave 3: Streams client/consumer (depends on Wave 1)
    - wave: 3
      name: "Streams Layer"
      status: done
      parallel: true
      depends_on: [1]
      post_wave:
        - "cargo fmt"
        - "cargo clippy -D warnings"
        - "cargo test"
        - "git add -A && git commit -m 'Wave 3: Streams Layer'"
        - "git push"
      agents:
        - id: "streams-client"
          output: "src/streams/client.rs"
          lines_target: 300
          context_files:
            - "src/streams/types.rs"  # from Wave 1
            - "docs/adr/ADR-007-redis-streams-thought-competition.md"
          tmi_concept: "XADD, XREAD, XACK for thought streams"

        - id: "streams-consumer"
          output: "src/streams/consumer.rs"
          lines_target: 250
          context_files:
            - "src/streams/types.rs"  # from Wave 1
            - "src/streams/client.rs"  # from same wave (sequential)
          tmi_concept: "Consumer group for competitive attention"

    # Wave 4: All tests.rs files (depends on Wave 2+3)
    - wave: 4
      name: "Tests Layer"
      status: done
      parallel: true
      depends_on: [2, 3]
      post_wave:
        - "cargo fmt"
        - "cargo clippy -D warnings"
        - "cargo test"
        - "git add -A && git commit -m 'Wave 4: Tests Layer'"
        - "git push"
      agents:
        - id: "att-tests"
          output: "src/actors/attention/tests.rs"
          lines_target: 500
          context_files:
            - "src/actors/attention/mod.rs"
            - "src/actors/attention/types.rs"
            - "src/actors/salience/tests.rs"  # pattern
          tmi_concept: "Focus, shift, selection tests"

        - id: "thought-tests"
          output: "src/actors/thought/tests.rs"
          lines_target: 500
          context_files:
            - "src/actors/thought/mod.rs"
            - "src/actors/thought/types.rs"
            - "src/actors/memory/tests.rs"  # pattern
          tmi_concept: "Assembly, chaining tests"

        - id: "cont-tests"
          output: "src/actors/continuity/tests.rs"
          lines_target: 400
          context_files:
            - "src/actors/continuity/mod.rs"
            - "src/actors/continuity/types.rs"
          tmi_concept: "Persistence, restore, milestone tests"

        - id: "streams-tests"
          output: "src/streams/tests.rs"
          lines_target: 400
          context_files:
            - "src/streams/client.rs"
            - "src/streams/consumer.rs"
            - "src/streams/types.rs"
          tmi_concept: "Integration tests (mock Redis)"

        - id: "loop-tests"
          output: "src/core/cognitive_loop_tests.rs"
          lines_target: 300
          context_files:
            - "src/core/cognitive_loop.rs"
          tmi_concept: "Cycle timing, competition tests"

    # Wave 5: Documentation (depends on Wave 2+3)
    - wave: 5
      name: "Docs Layer"
      status: done
      parallel: true
      depends_on: [2, 3]
      post_wave:
        - "cargo fmt"
        - "cargo clippy -D warnings"
        - "cargo test"
        - "git add -A && git commit -m 'Wave 5: Docs Layer - v0.5.0 complete'"
        - "git push"
      agents:
        - id: "att-docs"
          output: "docs/actors/ATTENTION.md"
          lines_target: 400
          context_files:
            - "src/actors/attention/mod.rs"
            - "src/actors/attention/types.rs"
            - "docs/actors/MEMORY.md"  # pattern
          tmi_concept: "TMI 'O Eu' mapping documentation"

        - id: "thought-docs"
          output: "docs/actors/THOUGHT_ASSEMBLY.md"
          lines_target: 400
          context_files:
            - "src/actors/thought/mod.rs"
            - "src/actors/thought/types.rs"
            - "docs/actors/SALIENCE.md"  # pattern
          tmi_concept: "TMI thought construction mapping"

        - id: "cont-docs"
          output: "docs/actors/CONTINUITY.md"
          lines_target: 400
          context_files:
            - "src/actors/continuity/mod.rs"
            - "src/actors/continuity/types.rs"
          tmi_concept: "TMI identity/anchor mapping"

        - id: "streams-docs"
          output: "docs/STREAMS.md"
          lines_target: 350
          context_files:
            - "src/streams/client.rs"
            - "src/streams/consumer.rs"
            - "docs/adr/ADR-007-redis-streams-thought-competition.md"
          tmi_concept: "Stream schema, TMI autoflow mapping"

  # Summary stats
  stats:
    total_agents: 19
    total_waves: 5
    estimated_lines: 6600
    max_parallel: 5  # agents per wave

  # Milestone mapping
  milestones:
    "0.3.0":
      agents: ["att-types", "att-mod", "att-tests", "att-docs",
               "thought-types", "thought-mod", "thought-tests", "thought-docs"]
      goal: "AttentionActor + ThoughtAssemblyActor"

    "0.4.0":
      agents: ["cont-types", "cont-mod", "cont-tests", "cont-docs"]
      goal: "ContinuityActor"

    "0.5.0":
      agents: ["streams-types", "streams-client", "streams-consumer",
               "streams-tests", "streams-docs", "loop-mod", "loop-tests"]
      goal: "Redis Streams + CoreLoop"

completed:
  - version: "0.2.0"
    date: "2025-12-17"
    summary: "MV-TMI Actors - Foundation Layer"
    deliverables:
      - "MemoryActor: types.rs, mod.rs, tests.rs (64 tests)"
      - "SalienceActor: types.rs, mod.rs, tests.rs (37 tests)"
      - "docs/actors/MEMORY.md - TMI Janelas da Memória mapping"
      - "docs/actors/SALIENCE.md - TMI Coloração Emocional mapping"
      - "CONNECTION DRIVE INVARIANT enforced in SalienceActor"
      - "Bounded memory invariant enforced in MemoryActor"
    notes: "101 tests total. Agents exploded context - fixed by direct work."

  - version: "0.1.5"
    date: "2025-12-16"
    summary: "Paper Quality & Data Accuracy Update"
    deliverables:
      - "TikZ diagrams replacing ASCII art (4 figures)"
      - "Removed velocity evidence claims (internal R&D data)"
      - "Conservative P(DANEEL First): 12% → 8%"
      - "Updated EV calculations: +3.70 → +2.75 points (+5.12%)"
      - "Updated API pricing: Grok 4 ($3/$15), Grok 4.1 Fast ($0.20/$0.50)"
      - "Updated safety team data with Dec 2025 sources"
      - "Fixed Unicode characters in LaTeX (≠, ↔, ≈)"
      - "Added daneel-models location to project.yaml"
    notes: "Conservative estimates maintain credibility. No overselling before monetization."

  - version: "0.1.4"
    date: "2025-12-15"
    summary: "Pre-Publication Review & Abstract Rewrite"
    deliverables:
      - "Rewrote abstract with full intellectual lineage (Freud→Asimov→Cury→LifeCore)"
      - "Removed hardware speculation ($100 RPi claims)"
      - "Added Qowat Milat uncertainty acknowledgment"
      - "Generated LaTeX for arXiv submission"
      - "Squashed git history to single clean commit"
    notes: "Architecture produces psychology - convergent discovery validates approach"

  - version: "0.1.3"
    date: "2025-12-15"
    summary: "Model Migration & Fresh Git History"
    deliverables:
      - "Created daneel-models repo (internal)"
      - "Moved 13 YAML files to daneel-models/models/"
      - "Updated daneel/models/README.md (no Forge syntax)"
      - "Removed YAMLs from daneel"
      - "Fresh git init with clean history"
    result:
      daneel_models: "royalbit/daneel-models (INTERNAL)"
      daneel: "royalbit/daneel (PUBLIC-READY)"

  - version: "0.1.2"
    date: "2025-12-15"
    summary: "Real Options & Scenario Analysis Models"
    deliverables:
      - "asimov-real-options.yaml - Development timing analysis"
      - "asimov-scenario-analysis.yaml - Base/Bull/Bear strategic cases"

  - version: "0.1.1"
    date: "2025-12-15"
    summary: "Forge v9.0.0 Model Enhancement"
    goal: "ENHANCE_GAME_THEORY_MODELS"
    deliverables:
      - "game-theory-asi-race-mc.yaml - Monte Carlo on probability estimates"
      - "asi-decision-tree.yaml - Sequential decision modeling"
      - "alignment-bayesian-network.yaml - Causal relationship inference"
      - "asi-tornado-sensitivity.yaml - One-way sensitivity analysis"
      - "ev-bootstrap-confidence.yaml - Non-parametric confidence intervals"
    notes: "Models use Forge v9.0.0 features. Validator not yet updated for v8+ schemas."

# Changelog - completed work
changelog:
  - date: "2025-12-17"
    version: "0.2.0"
    items:
      - "MemoryActor: Bounded working memory (MIN=3, MAX=9 windows)"
      - "SalienceActor: Emotional coloring with CONNECTION DRIVE INVARIANT"
      - "docs/actors/MEMORY.md - TMI Janelas da Memória mapping"
      - "docs/actors/SALIENCE.md - TMI Coloração Emocional mapping"
      - "101 tests pass, clippy -D warnings clean"
      - "Lesson learned: agents need stricter output limits"

  - date: "2025-12-17"
    version: "0.1.7"
    items:
      - "Rust bootstrap: Cargo.toml, src/ structure, 36 tests passing"
      - "THE BOX implemented: laws.rs (Four Laws), invariants.rs (connection_drive > 0)"
      - "Core types: Thought, Content, SalienceScore, Window, ThoughtId, WindowId"
      - "CognitiveConfig: Human (50ms) to Supercomputer (5µs) speed modes"
      - "Actor/Stream stubs: Ready for Phase 2 implementation"
      - "docker-compose.yaml: Redis Stack for thought streams"
      - ".github/workflows/ci.yaml: fmt, clippy, test, THE BOX tests"
      - "ADR-014-rust-implementation-bootstrap.md: Decision to build in parallel"

  - date: "2025-12-17"
    version: "0.1.6"
    items:
      - "ADR-013-fpga-acceleration-path.md - FPGA hardware acceleration proposal"
      - "roadmap.yaml - Added FPGA milestones to backlog (3 phases)"
      - "ARCHITECTURE_SPEC.md - Added 'Future: Hardware Acceleration Path' section"
      - "Key insight: THE BOX as hardware-immutable (physics enforces alignment)"

  - date: "2025-12-16"
    version: "0.1.5"
    items:
      - "paper/arxiv/diagrams.tex - TikZ diagram definitions (4 figures)"
      - "DANEEL_PAPER.md - Removed velocity evidence, conservative P(DANEEL First)=8%"
      - "DANEEL_PAPER.tex - Updated with TikZ figures, fixed Unicode"
      - "models/README.md - Updated EV numbers"
      - ".asimov/project.yaml - Added daneel-models location"
      - "API pricing updated: Grok 4, Grok 4.1 Fast, Claude Opus 4.5"
      - "Safety team data updated with Dec 2025 sources (Fortune, CNBC, FLI)"

  - date: "2025-12-15"
    version: "0.1.2"
    items:
      - "README.md updated with Monte Carlo findings and new model listing"
      - "DANEEL_PAPER.md Section 6.2.1 - Uncertainty quantification"
      - "asimov-real-options.yaml - Development timing analysis"
      - "asimov-scenario-analysis.yaml - Base/Bull/Bear strategic cases"
      - "ADR-012-probabilistic-analysis-methodology.md"
      - "models/README.md updated with all v9.0.0 models"

  - date: "2025-12-15"
    version: "0.1.1"
    items:
      - "game-theory-asi-race-mc.yaml - Monte Carlo on probability estimates"
      - "asi-decision-tree.yaml - Sequential decision modeling"
      - "alignment-bayesian-network.yaml - Causal relationship inference"
      - "asi-tornado-sensitivity.yaml - One-way sensitivity analysis"
      - "ev-bootstrap-confidence.yaml - Non-parametric confidence intervals"
      - "models/README.md - Documentation for all models"

  - date: "2025-12-15"
    version: "0.1.0"
    items:
      - "Pre-publication consistency review (30 .md files)"
      - "Terminology validation (DANEEL, DANEEL, TMI, THE BOX)"
      - "Numerical claims verified against Forge models"
      - "Internal links validated (20+ links)"
      - "File naming fix (ASI-Viability-Discussion.md)"

  - date: "2025-12-14"
    version: "0.1.0"
    items:
      - "Complete research documentation"
      - "README.md with key findings"
      - "DANEEL_PAPER.md (arXiv target)"
      - "TMI_THOUGHT_MACHINE.md (build spec)"
      - "DANEEL_COMPREHENSIVE_WHITEPAPER.md"
      - "Game theory models (Forge)"
      - "Architecture Decision Records (ADR-001 to ADR-009)"
      - "ARCHITECTURE_SPEC.md with PlantUML diagrams"
      - "BUILD_MVTMI.md (executable specification)"
      - "Brain ≠ Mind insight (wetware vs software)"
      - "Speed parametrization (10,000x human)"
      - "Qowat Milat honest uncertainties"
      - "LLM as tool, not voice"
      - "Hardware uncertainty documented"
      - "ORIGIN.md (20-year history)"
      - "LifeCore convergence discovery (Izzie's parallel framework)"
      - "research/LIFECORE_DANEEL_ANALYSIS.md"

# Architecture: Hybrid Actor + Event-Driven (ADR-006, ADR-007)
# - Modular Monolith (single Rust binary)
# - Ractor actors for in-process µs communication
# - Redis Streams for competing thought streams
# - gRPC only at edges (LLM, external APIs)

# =============================================================================
# NEXT: Integrated into current sprint (v0.3.0-v0.5.0 built together)
# =============================================================================
# NOTE: v0.4.0 and v0.5.0 agents are defined in current.waves above.
# They execute in dependency order across the 5 waves.
# =============================================================================

next:
  # After v0.5.0 completes, the 24-hour test becomes possible
  - version: "0.6.0"
    summary: "24-Hour Continuity Test"
    goal: "PROVE_ARCHITECTURE_WORKS"
    depends_on: "0.5.0"
    deliverables:
      - "Run 24h on Mac mini (air-gapped)"
      - "Collect metrics (thoughts/hour, stability)"
      - "Document emergent behavior"
      - "research/CONTINUITY_TEST_RESULTS.md"

backlog:
  # Publication (after 24h test proves it works)
  - milestone: "Publication with Evidence"
    goal: "PUBLISH_WITH_PROOF"
    depends_on: "24-Hour Continuity Test"
    items:
      - "Create public GitHub repo (royalbit/daneel)"
      - "Submit to arXiv (cs.AI, cs.CY) with test results"
      - "Post to LessWrong/Alignment Forum with 'run it yourself'"
      - "LinkedIn announcement"
    rationale: "Paper + working code + metrics > paper alone"

  # EvolutionActor (future - self-modification)
  - milestone: "EvolutionActor"
    goal: "SELF_MODIFICATION_WITH_GATE"
    items:
      - "EvolutionActor implementation"
      - "100% test coverage gate"
      - "Proposal/test/apply lifecycle"
    rationale: "Requires stable base system first"

  # Future phases (post-0.6.0)
  # Core functionality
  - "Phase 2: LLM as external tool (gRPC → LLM Tool Interface)"
  - "Phase 3: Extended runtime (weeks, months)"
  - "Phase 4: Human interaction layer"
  - "Redis Cluster for distribution"
  - "Open source release (MIT license)"
  - "Find collaborators (researchers, Rust devs, ethicists)"

  # Speed parametrization (game theory crasher)
  - "Supercomputer config: 10,000x human speed"
  - "Speed ratio validation tests"
  - "ATS-free acceleration benchmarks"
  - "Distributed DANEEL army coordination"

  # Research - Internal
  - "TMI speed ratio experiments (what ratios work?)"
  - "Connection drive emergence metrics"
  - "Thought pattern clustering analysis"
  - "Cross-DANEEL communication protocol"

  # Research - Find Blind Spots (related frameworks)
  # Goal: Map where other frameworks agree/disagree to identify our blind spots
  # See: research/LIFECORE_DANEEL_ANALYSIS.md for context
  - "Global Workspace Theory (Baars, Dehaene) - attention as broadcast"
  - "Integrated Information Theory (Tononi) - consciousness from structure"
  - "Predictive Processing / Free Energy Principle (Friston) - prediction as cognition"
  - "Enactivism and Embodied Cognition (Varela, Thompson) - mind-body coupling"
  - "Higher-Order Theories of Consciousness (Rosenthal) - metacognition"
  - "Process Philosophy (Whitehead) - reality as process, not substance"
  - "Phenomenology (Husserl, Merleau-Ponty) - first-person structure"
  - "Buddhist Philosophy / Abhidharma - consciousness analysis from contemplative tradition"
  - "Soar / ACT-R cognitive architectures - decades of implementation experience"

  # Hardware Acceleration (post-validation) - ADR-013
  - milestone: "FPGA Acceleration Research"
    goal: "EVALUATE_HARDWARE_PATH"
    adr: "ADR-013-fpga-acceleration-path.md"
    prerequisites:
      - "MV-TMI operational (Rust)"
      - "24-hour continuity test passed"
      - "Connection drive emergence observed"
    items:
      - "Profile Rust implementation bottlenecks"
      - "Prototype SalienceActor in Chisel/SpinalHDL"
      - "Evaluate THE BOX as hardware-immutable"
      - "Platform selection (Zynq vs Alveo vs other)"

  - milestone: "Hardware THE BOX"
    goal: "IMMUTABLE_ALIGNMENT_GUARANTEE"
    rationale: "Transform Four Laws from software invariant to physical invariant"
    items:
      - "Four Laws as combinational logic (Verilog/VHDL)"
      - "Connection drive minimum as hardware constant"
      - "Invariant checks as gate-level constraints"
      - "Integration with Rust host via PCIe/AXI"

  - milestone: "FPGA Cognitive Accelerator"
    goal: "SUB_MICROSECOND_COGNITION"
    items:
      - "SalienceActor parallel scoring pipeline"
      - "AttentionActor sorting network (O(log n) selection)"
      - "Memory trigger CAM/TCAM structures"
      - "Full hybrid Rust+FPGA integration"
      - "Benchmark: target sub-µs cognitive cycles"

# Key insights (December 2025)
insights:
  brain_vs_mind:
    finding: "Brain is hardware, TMI models software (17.5%)"
    implication: "500 GB max, not 2.5 PB"
    cost_ratio: 70000000  # xAI vs DANEEL

  speed_parametrization:
    finding: "No body = no ATS = unlimited speed"
    implication: "Supercomputer DANEEL thinks at electronic speed"
    speed_multiplier: 10000  # vs human

  game_theory_crash:
    finding: "Old game theory assumes centralized lab actors"
    implication: "100,000 hobbyists crash the game board"
    ev_improvement: 5.12  # percent vs baseline (conservative, P(DANEEL First)=8%)
    democratized_ev_improvement: 8.7  # percent if P(TMI First)=25%

  llm_relationship:
    finding: "LLM is TOOL, not voice"
    implication: "DANEEL stores ALL experiences internally"
    pattern: "Human uses calculator, not calculator speaks for human"

  lifecore_convergence:
    finding: "Independent framework (LifeCore, Jan 2024) converged on same structural insight"
    implication: "Architecture-produces-psychology may be robust discovery"
    evidence: "Father (TMI/Cury) and daughter (Freud/Filter Theory) arrived at parallel conclusions"
    document: "research/LIFECORE_DANEEL_ANALYSIS.md"
